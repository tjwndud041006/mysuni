{"ast":null,"code":"// chop-off tail of redundant vals at end of array\nconst truncate = (list, val) => {\n  for (let i = list.length - 1; i >= 0; i -= 1) {\n    if (list[i] !== val) {\n      list = list.slice(0, i + 1);\n      return list;\n    }\n  }\n  return list;\n};\n\n// prune trie a bit\nconst compress = function (trie) {\n  trie.goNext = trie.goNext.map(o => {\n    if (Object.keys(o).length === 0) {\n      return undefined;\n    }\n    return o;\n  });\n  // chop-off tail of undefined vals in goNext array\n  trie.goNext = truncate(trie.goNext, undefined);\n  // chop-off tail of zeros in failTo array\n  trie.failTo = truncate(trie.failTo, 0);\n  // chop-off tail of nulls in endAs array\n  trie.endAs = truncate(trie.endAs, null);\n  return trie;\n};\nexport default compress;","map":{"version":3,"names":["truncate","list","val","i","length","slice","compress","trie","goNext","map","o","Object","keys","undefined","failTo","endAs"],"sources":["/Users/seojuyoung/sunic/project/frontend/node_modules/compromise/src/1-one/lookup/api/buildTrie/compress.js"],"sourcesContent":["// chop-off tail of redundant vals at end of array\nconst truncate = (list, val) => {\n  for (let i = list.length - 1; i >= 0; i -= 1) {\n    if (list[i] !== val) {\n      list = list.slice(0, i + 1)\n      return list\n    }\n  }\n  return list\n}\n\n// prune trie a bit\nconst compress = function (trie) {\n  trie.goNext = trie.goNext.map(o => {\n    if (Object.keys(o).length === 0) {\n      return undefined\n    }\n    return o\n  })\n  // chop-off tail of undefined vals in goNext array\n  trie.goNext = truncate(trie.goNext, undefined)\n  // chop-off tail of zeros in failTo array\n  trie.failTo = truncate(trie.failTo, 0)\n  // chop-off tail of nulls in endAs array\n  trie.endAs = truncate(trie.endAs, null)\n  return trie\n}\nexport default compress"],"mappings":"AAAA;AACA,MAAMA,QAAQ,GAAGA,CAACC,IAAI,EAAEC,GAAG,KAAK;EAC9B,KAAK,IAAIC,CAAC,GAAGF,IAAI,CAACG,MAAM,GAAG,CAAC,EAAED,CAAC,IAAI,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAE;IAC5C,IAAIF,IAAI,CAACE,CAAC,CAAC,KAAKD,GAAG,EAAE;MACnBD,IAAI,GAAGA,IAAI,CAACI,KAAK,CAAC,CAAC,EAAEF,CAAC,GAAG,CAAC,CAAC;MAC3B,OAAOF,IAAI;IACb;EACF;EACA,OAAOA,IAAI;AACb,CAAC;;AAED;AACA,MAAMK,QAAQ,GAAG,SAAAA,CAAUC,IAAI,EAAE;EAC/BA,IAAI,CAACC,MAAM,GAAGD,IAAI,CAACC,MAAM,CAACC,GAAG,CAACC,CAAC,IAAI;IACjC,IAAIC,MAAM,CAACC,IAAI,CAACF,CAAC,CAAC,CAACN,MAAM,KAAK,CAAC,EAAE;MAC/B,OAAOS,SAAS;IAClB;IACA,OAAOH,CAAC;EACV,CAAC,CAAC;EACF;EACAH,IAAI,CAACC,MAAM,GAAGR,QAAQ,CAACO,IAAI,CAACC,MAAM,EAAEK,SAAS,CAAC;EAC9C;EACAN,IAAI,CAACO,MAAM,GAAGd,QAAQ,CAACO,IAAI,CAACO,MAAM,EAAE,CAAC,CAAC;EACtC;EACAP,IAAI,CAACQ,KAAK,GAAGf,QAAQ,CAACO,IAAI,CAACQ,KAAK,EAAE,IAAI,CAAC;EACvC,OAAOR,IAAI;AACb,CAAC;AACD,eAAeD,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
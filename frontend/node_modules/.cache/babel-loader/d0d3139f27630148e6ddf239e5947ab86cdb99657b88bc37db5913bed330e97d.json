{"ast":null,"code":"import find from './find.js';\nimport parse from './parse.js';\nimport gender from './gender.js';\nconst addMethod = function (View) {\n  /**\n   *\n   */\n  class People extends View {\n    constructor(document, pointer, groups) {\n      super(document, pointer, groups);\n      this.viewType = 'People';\n    }\n    parse(n) {\n      return this.getNth(n).map(parse);\n    }\n    json(n) {\n      let opts = typeof n === 'object' ? n : {};\n      return this.getNth(n).map(p => {\n        let json = p.toView().json(opts)[0];\n        let parsed = parse(p);\n        json.person = {\n          firstName: parsed.firstName.text('normal'),\n          lastName: parsed.lastName.text('normal'),\n          honorific: parsed.honorific.text('normal'),\n          presumed_gender: gender(parsed, p)\n        };\n        return json;\n      }, []);\n    }\n    // used for co-reference resolution only\n    presumedMale() {\n      return this.filter(m => {\n        return m.has('(#MaleName|mr|mister|sr|jr|king|pope|prince|sir)'); //todo configure these in .world\n      });\n    }\n    presumedFemale() {\n      return this.filter(m => {\n        return m.has('(#FemaleName|mrs|miss|queen|princess|madam)');\n      });\n    }\n    // overloaded - keep People class\n    update(pointer) {\n      let m = new People(this.document, pointer);\n      m._cache = this._cache; // share this full thing\n      return m;\n    }\n  }\n  View.prototype.people = function (n) {\n    let m = find(this);\n    m = m.getNth(n);\n    return new People(this.document, m.pointer);\n  };\n};\nexport default addMethod;","map":{"version":3,"names":["find","parse","gender","addMethod","View","People","constructor","document","pointer","groups","viewType","n","getNth","map","json","opts","p","toView","parsed","person","firstName","text","lastName","honorific","presumed_gender","presumedMale","filter","m","has","presumedFemale","update","_cache","prototype","people"],"sources":["/Users/seojuyoung/sunic/project/frontend/node_modules/compromise/src/3-three/topics/people/api.js"],"sourcesContent":["import find from './find.js'\nimport parse from './parse.js'\nimport gender from './gender.js'\n\n\nconst addMethod = function (View) {\n  /**\n   *\n   */\n  class People extends View {\n    constructor(document, pointer, groups) {\n      super(document, pointer, groups)\n      this.viewType = 'People'\n    }\n    parse(n) {\n      return this.getNth(n).map(parse)\n    }\n    json(n) {\n      let opts = typeof n === 'object' ? n : {}\n      return this.getNth(n).map(p => {\n        let json = p.toView().json(opts)[0]\n        let parsed = parse(p)\n        json.person = {\n          firstName: parsed.firstName.text('normal'),\n          lastName: parsed.lastName.text('normal'),\n          honorific: parsed.honorific.text('normal'),\n          presumed_gender: gender(parsed, p),\n        }\n        return json\n      }, [])\n    }\n    // used for co-reference resolution only\n    presumedMale() {\n      return this.filter(m => {\n        return m.has('(#MaleName|mr|mister|sr|jr|king|pope|prince|sir)')//todo configure these in .world\n      })\n    }\n    presumedFemale() {\n      return this.filter(m => {\n        return m.has('(#FemaleName|mrs|miss|queen|princess|madam)')\n      })\n    }\n    // overloaded - keep People class\n    update(pointer) {\n      let m = new People(this.document, pointer)\n      m._cache = this._cache // share this full thing\n      return m\n    }\n  }\n\n  View.prototype.people = function (n) {\n    let m = find(this)\n    m = m.getNth(n)\n    return new People(this.document, m.pointer)\n  }\n}\nexport default addMethod\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,WAAW;AAC5B,OAAOC,KAAK,MAAM,YAAY;AAC9B,OAAOC,MAAM,MAAM,aAAa;AAGhC,MAAMC,SAAS,GAAG,SAAAA,CAAUC,IAAI,EAAE;EAChC;AACF;AACA;EACE,MAAMC,MAAM,SAASD,IAAI,CAAC;IACxBE,WAAWA,CAACC,QAAQ,EAAEC,OAAO,EAAEC,MAAM,EAAE;MACrC,KAAK,CAACF,QAAQ,EAAEC,OAAO,EAAEC,MAAM,CAAC;MAChC,IAAI,CAACC,QAAQ,GAAG,QAAQ;IAC1B;IACAT,KAAKA,CAACU,CAAC,EAAE;MACP,OAAO,IAAI,CAACC,MAAM,CAACD,CAAC,CAAC,CAACE,GAAG,CAACZ,KAAK,CAAC;IAClC;IACAa,IAAIA,CAACH,CAAC,EAAE;MACN,IAAII,IAAI,GAAG,OAAOJ,CAAC,KAAK,QAAQ,GAAGA,CAAC,GAAG,CAAC,CAAC;MACzC,OAAO,IAAI,CAACC,MAAM,CAACD,CAAC,CAAC,CAACE,GAAG,CAACG,CAAC,IAAI;QAC7B,IAAIF,IAAI,GAAGE,CAAC,CAACC,MAAM,CAAC,CAAC,CAACH,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC,CAAC;QACnC,IAAIG,MAAM,GAAGjB,KAAK,CAACe,CAAC,CAAC;QACrBF,IAAI,CAACK,MAAM,GAAG;UACZC,SAAS,EAAEF,MAAM,CAACE,SAAS,CAACC,IAAI,CAAC,QAAQ,CAAC;UAC1CC,QAAQ,EAAEJ,MAAM,CAACI,QAAQ,CAACD,IAAI,CAAC,QAAQ,CAAC;UACxCE,SAAS,EAAEL,MAAM,CAACK,SAAS,CAACF,IAAI,CAAC,QAAQ,CAAC;UAC1CG,eAAe,EAAEtB,MAAM,CAACgB,MAAM,EAAEF,CAAC;QACnC,CAAC;QACD,OAAOF,IAAI;MACb,CAAC,EAAE,EAAE,CAAC;IACR;IACA;IACAW,YAAYA,CAAA,EAAG;MACb,OAAO,IAAI,CAACC,MAAM,CAACC,CAAC,IAAI;QACtB,OAAOA,CAAC,CAACC,GAAG,CAAC,kDAAkD,CAAC;MAClE,CAAC,CAAC;IACJ;IACAC,cAAcA,CAAA,EAAG;MACf,OAAO,IAAI,CAACH,MAAM,CAACC,CAAC,IAAI;QACtB,OAAOA,CAAC,CAACC,GAAG,CAAC,6CAA6C,CAAC;MAC7D,CAAC,CAAC;IACJ;IACA;IACAE,MAAMA,CAACtB,OAAO,EAAE;MACd,IAAImB,CAAC,GAAG,IAAItB,MAAM,CAAC,IAAI,CAACE,QAAQ,EAAEC,OAAO,CAAC;MAC1CmB,CAAC,CAACI,MAAM,GAAG,IAAI,CAACA,MAAM,EAAC;MACvB,OAAOJ,CAAC;IACV;EACF;EAEAvB,IAAI,CAAC4B,SAAS,CAACC,MAAM,GAAG,UAAUtB,CAAC,EAAE;IACnC,IAAIgB,CAAC,GAAG3B,IAAI,CAAC,IAAI,CAAC;IAClB2B,CAAC,GAAGA,CAAC,CAACf,MAAM,CAACD,CAAC,CAAC;IACf,OAAO,IAAIN,MAAM,CAAC,IAAI,CAACE,QAAQ,EAAEoB,CAAC,CAACnB,OAAO,CAAC;EAC7C,CAAC;AACH,CAAC;AACD,eAAeL,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
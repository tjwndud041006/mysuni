{"ast":null,"code":"const freeze = function (view) {\n  const world = view.world;\n  const {\n    model,\n    methods\n  } = view.world;\n  const setTag = methods.one.setTag;\n  const {\n    frozenLex\n  } = model.one;\n  const multi = model.one._multiCache || {};\n  view.docs.forEach(terms => {\n    for (let i = 0; i < terms.length; i += 1) {\n      // basic lexicon lookup\n      let t = terms[i];\n      let word = t.machine || t.normal;\n\n      // test a multi-word\n      if (multi[word] !== undefined && terms[i + 1]) {\n        let end = i + multi[word] - 1;\n        for (let k = end; k > i; k -= 1) {\n          let words = terms.slice(i, k + 1);\n          let str = words.map(term => term.machine || term.normal).join(' ');\n          // lookup frozen lexicon\n          if (frozenLex.hasOwnProperty(str) === true) {\n            setTag(words, frozenLex[str], world, false, '1-frozen-multi-lexicon');\n            words.forEach(term => term.frozen = true);\n            continue;\n          }\n        }\n      }\n      // test single word\n      if (frozenLex[word] !== undefined && frozenLex.hasOwnProperty(word)) {\n        setTag([t], frozenLex[word], world, false, '1-freeze-lexicon');\n        t.frozen = true;\n        continue;\n      }\n    }\n  });\n};\nconst unfreeze = function (view) {\n  view.docs.forEach(ts => {\n    ts.forEach(term => {\n      delete term.frozen;\n    });\n  });\n  return view;\n};\nexport default {\n  frozen: freeze,\n  freeze,\n  unfreeze\n};","map":{"version":3,"names":["freeze","view","world","model","methods","setTag","one","frozenLex","multi","_multiCache","docs","forEach","terms","i","length","t","word","machine","normal","undefined","end","k","words","slice","str","map","term","join","hasOwnProperty","frozen","unfreeze","ts"],"sources":["/Users/seojuyoung/sunic/project/frontend/node_modules/compromise/src/1-one/freeze/compute.js"],"sourcesContent":["const freeze = function (view) {\n  const world = view.world\n  const { model, methods } = view.world\n  const setTag = methods.one.setTag\n  const { frozenLex } = model.one\n  const multi = model.one._multiCache || {}\n\n  view.docs.forEach(terms => {\n    for (let i = 0; i < terms.length; i += 1) {\n      // basic lexicon lookup\n      let t = terms[i]\n      let word = t.machine || t.normal\n\n      // test a multi-word\n      if (multi[word] !== undefined && terms[i + 1]) {\n        let end = i + multi[word] - 1\n        for (let k = end; k > i; k -= 1) {\n          let words = terms.slice(i, k + 1)\n          let str = words.map(term => term.machine || term.normal).join(' ')\n          // lookup frozen lexicon\n          if (frozenLex.hasOwnProperty(str) === true) {\n            setTag(words, frozenLex[str], world, false, '1-frozen-multi-lexicon')\n            words.forEach(term => (term.frozen = true))\n            continue\n          }\n        }\n      }\n      // test single word\n      if (frozenLex[word] !== undefined && frozenLex.hasOwnProperty(word)) {\n        setTag([t], frozenLex[word], world, false, '1-freeze-lexicon')\n        t.frozen = true\n        continue\n      }\n    }\n  })\n}\n\nconst unfreeze = function (view) {\n  view.docs.forEach(ts => {\n    ts.forEach(term => {\n      delete term.frozen\n    })\n  })\n  return view\n}\nexport default { frozen: freeze, freeze, unfreeze }\n"],"mappings":"AAAA,MAAMA,MAAM,GAAG,SAAAA,CAAUC,IAAI,EAAE;EAC7B,MAAMC,KAAK,GAAGD,IAAI,CAACC,KAAK;EACxB,MAAM;IAAEC,KAAK;IAAEC;EAAQ,CAAC,GAAGH,IAAI,CAACC,KAAK;EACrC,MAAMG,MAAM,GAAGD,OAAO,CAACE,GAAG,CAACD,MAAM;EACjC,MAAM;IAAEE;EAAU,CAAC,GAAGJ,KAAK,CAACG,GAAG;EAC/B,MAAME,KAAK,GAAGL,KAAK,CAACG,GAAG,CAACG,WAAW,IAAI,CAAC,CAAC;EAEzCR,IAAI,CAACS,IAAI,CAACC,OAAO,CAACC,KAAK,IAAI;IACzB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,KAAK,CAACE,MAAM,EAAED,CAAC,IAAI,CAAC,EAAE;MACxC;MACA,IAAIE,CAAC,GAAGH,KAAK,CAACC,CAAC,CAAC;MAChB,IAAIG,IAAI,GAAGD,CAAC,CAACE,OAAO,IAAIF,CAAC,CAACG,MAAM;;MAEhC;MACA,IAAIV,KAAK,CAACQ,IAAI,CAAC,KAAKG,SAAS,IAAIP,KAAK,CAACC,CAAC,GAAG,CAAC,CAAC,EAAE;QAC7C,IAAIO,GAAG,GAAGP,CAAC,GAAGL,KAAK,CAACQ,IAAI,CAAC,GAAG,CAAC;QAC7B,KAAK,IAAIK,CAAC,GAAGD,GAAG,EAAEC,CAAC,GAAGR,CAAC,EAAEQ,CAAC,IAAI,CAAC,EAAE;UAC/B,IAAIC,KAAK,GAAGV,KAAK,CAACW,KAAK,CAACV,CAAC,EAAEQ,CAAC,GAAG,CAAC,CAAC;UACjC,IAAIG,GAAG,GAAGF,KAAK,CAACG,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACT,OAAO,IAAIS,IAAI,CAACR,MAAM,CAAC,CAACS,IAAI,CAAC,GAAG,CAAC;UAClE;UACA,IAAIpB,SAAS,CAACqB,cAAc,CAACJ,GAAG,CAAC,KAAK,IAAI,EAAE;YAC1CnB,MAAM,CAACiB,KAAK,EAAEf,SAAS,CAACiB,GAAG,CAAC,EAAEtB,KAAK,EAAE,KAAK,EAAE,wBAAwB,CAAC;YACrEoB,KAAK,CAACX,OAAO,CAACe,IAAI,IAAKA,IAAI,CAACG,MAAM,GAAG,IAAK,CAAC;YAC3C;UACF;QACF;MACF;MACA;MACA,IAAItB,SAAS,CAACS,IAAI,CAAC,KAAKG,SAAS,IAAIZ,SAAS,CAACqB,cAAc,CAACZ,IAAI,CAAC,EAAE;QACnEX,MAAM,CAAC,CAACU,CAAC,CAAC,EAAER,SAAS,CAACS,IAAI,CAAC,EAAEd,KAAK,EAAE,KAAK,EAAE,kBAAkB,CAAC;QAC9Da,CAAC,CAACc,MAAM,GAAG,IAAI;QACf;MACF;IACF;EACF,CAAC,CAAC;AACJ,CAAC;AAED,MAAMC,QAAQ,GAAG,SAAAA,CAAU7B,IAAI,EAAE;EAC/BA,IAAI,CAACS,IAAI,CAACC,OAAO,CAACoB,EAAE,IAAI;IACtBA,EAAE,CAACpB,OAAO,CAACe,IAAI,IAAI;MACjB,OAAOA,IAAI,CAACG,MAAM;IACpB,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,OAAO5B,IAAI;AACb,CAAC;AACD,eAAe;EAAE4B,MAAM,EAAE7B,MAAM;EAAEA,MAAM;EAAE8B;AAAS,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
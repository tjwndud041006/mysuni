{"ast":null,"code":"// finally,\n// actually run these match-statements on the terms\nconst runMatch = function (maybeList, document, docCache, methods, opts) {\n  let results = [];\n  for (let n = 0; n < maybeList.length; n += 1) {\n    for (let i = 0; i < maybeList[n].length; i += 1) {\n      let m = maybeList[n][i];\n      // ok, actually do the work.\n      let res = methods.one.match([document[n]], m);\n      // found something.\n      if (res.ptrs.length > 0) {\n        res.ptrs.forEach(ptr => {\n          ptr[0] = n; // fix the sentence pointer\n          // check ifNo\n          // if (m.ifNo !== undefined) {\n          //   let terms = document[n].slice(ptr[1], ptr[2])\n          //   for (let k = 0; k < m.ifNo.length; k += 1) {\n          //     const no = m.ifNo[k]\n          //     // quick-check cache\n          //     if (docCache[n].has(no)) {\n          //       if (no.startsWith('#')) {\n          //         let tag = no.replace(/^#/, '')\n          //         if (terms.find(t => t.tags.has(tag))) {\n          //           console.log('+' + tag)\n          //           return\n          //         }\n          //       } else if (terms.find(t => t.normal === no || t.tags.has(no))) {\n          //         console.log('+' + no)\n          //         return\n          //       }\n          //     }\n          //   }\n          // }\n          let todo = Object.assign({}, m, {\n            pointer: ptr\n          });\n          if (m.unTag !== undefined) {\n            todo.unTag = m.unTag;\n          }\n          results.push(todo);\n        });\n        //ok cool, can we stop early?\n        if (opts.matchOne === true) {\n          return [results[0]];\n        }\n      }\n    }\n  }\n  return results;\n};\nexport default runMatch;","map":{"version":3,"names":["runMatch","maybeList","document","docCache","methods","opts","results","n","length","i","m","res","one","match","ptrs","forEach","ptr","todo","Object","assign","pointer","unTag","undefined","push","matchOne"],"sources":["/Users/seojuyoung/sunic/project/frontend/node_modules/compromise/src/1-one/sweep/methods/sweep/04-runMatch.js"],"sourcesContent":["// finally,\n// actually run these match-statements on the terms\nconst runMatch = function (maybeList, document, docCache, methods, opts) {\n  let results = []\n  for (let n = 0; n < maybeList.length; n += 1) {\n    for (let i = 0; i < maybeList[n].length; i += 1) {\n      let m = maybeList[n][i]\n      // ok, actually do the work.\n      let res = methods.one.match([document[n]], m)\n      // found something.\n      if (res.ptrs.length > 0) {\n        res.ptrs.forEach(ptr => {\n          ptr[0] = n // fix the sentence pointer\n          // check ifNo\n          // if (m.ifNo !== undefined) {\n          //   let terms = document[n].slice(ptr[1], ptr[2])\n          //   for (let k = 0; k < m.ifNo.length; k += 1) {\n          //     const no = m.ifNo[k]\n          //     // quick-check cache\n          //     if (docCache[n].has(no)) {\n          //       if (no.startsWith('#')) {\n          //         let tag = no.replace(/^#/, '')\n          //         if (terms.find(t => t.tags.has(tag))) {\n          //           console.log('+' + tag)\n          //           return\n          //         }\n          //       } else if (terms.find(t => t.normal === no || t.tags.has(no))) {\n          //         console.log('+' + no)\n          //         return\n          //       }\n          //     }\n          //   }\n          // }\n          let todo = Object.assign({}, m, { pointer: ptr })\n          if (m.unTag !== undefined) {\n            todo.unTag = m.unTag\n          }\n          results.push(todo)\n        })\n        //ok cool, can we stop early?\n        if (opts.matchOne === true) {\n          return [results[0]]\n        }\n      }\n    }\n  }\n  return results\n}\nexport default runMatch\n"],"mappings":"AAAA;AACA;AACA,MAAMA,QAAQ,GAAG,SAAAA,CAAUC,SAAS,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,IAAI,EAAE;EACvE,IAAIC,OAAO,GAAG,EAAE;EAChB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,SAAS,CAACO,MAAM,EAAED,CAAC,IAAI,CAAC,EAAE;IAC5C,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,SAAS,CAACM,CAAC,CAAC,CAACC,MAAM,EAAEC,CAAC,IAAI,CAAC,EAAE;MAC/C,IAAIC,CAAC,GAAGT,SAAS,CAACM,CAAC,CAAC,CAACE,CAAC,CAAC;MACvB;MACA,IAAIE,GAAG,GAAGP,OAAO,CAACQ,GAAG,CAACC,KAAK,CAAC,CAACX,QAAQ,CAACK,CAAC,CAAC,CAAC,EAAEG,CAAC,CAAC;MAC7C;MACA,IAAIC,GAAG,CAACG,IAAI,CAACN,MAAM,GAAG,CAAC,EAAE;QACvBG,GAAG,CAACG,IAAI,CAACC,OAAO,CAACC,GAAG,IAAI;UACtBA,GAAG,CAAC,CAAC,CAAC,GAAGT,CAAC,EAAC;UACX;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA,IAAIU,IAAI,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAET,CAAC,EAAE;YAAEU,OAAO,EAAEJ;UAAI,CAAC,CAAC;UACjD,IAAIN,CAAC,CAACW,KAAK,KAAKC,SAAS,EAAE;YACzBL,IAAI,CAACI,KAAK,GAAGX,CAAC,CAACW,KAAK;UACtB;UACAf,OAAO,CAACiB,IAAI,CAACN,IAAI,CAAC;QACpB,CAAC,CAAC;QACF;QACA,IAAIZ,IAAI,CAACmB,QAAQ,KAAK,IAAI,EAAE;UAC1B,OAAO,CAAClB,OAAO,CAAC,CAAC,CAAC,CAAC;QACrB;MACF;IACF;EACF;EACA,OAAOA,OAAO;AAChB,CAAC;AACD,eAAeN,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import fastTag from '../_fastTag.js';\n// const prefixes = /^(anti|re|un|non|extra|inter|intra|over)([a-z-]{3})/\n\n//sweep-through all prefixes\nconst prefixLoop = function (str = '', prefixes = []) {\n  const len = str.length;\n  let max = 7;\n  if (max > len - 3) {\n    max = len - 3;\n  }\n  for (let i = max; i > 2; i -= 1) {\n    let prefix = str.substring(0, i);\n    if (prefixes[prefix.length].hasOwnProperty(prefix) === true) {\n      let tag = prefixes[prefix.length][prefix];\n      return tag;\n    }\n  }\n  return null;\n};\n\n// give 'overwork' the same tag as 'work'\nconst checkPrefix = function (terms, i, model) {\n  let term = terms[i];\n  if (term.tags.size === 0) {\n    let tag = prefixLoop(term.normal, model.two.prefixPatterns);\n    if (tag !== null) {\n      // console.log(term.normal, '->', tag)\n      fastTag(term, tag, '2-prefix');\n      term.confidence = 0.5;\n      return true;\n    }\n  }\n  return null;\n};\nexport default checkPrefix;","map":{"version":3,"names":["fastTag","prefixLoop","str","prefixes","len","length","max","i","prefix","substring","hasOwnProperty","tag","checkPrefix","terms","model","term","tags","size","normal","two","prefixPatterns","confidence"],"sources":["/Users/seojuyoung/sunic/project/frontend/node_modules/compromise/src/2-two/preTagger/compute/tagger/2nd-pass/04-prefix.js"],"sourcesContent":["import fastTag from '../_fastTag.js'\n// const prefixes = /^(anti|re|un|non|extra|inter|intra|over)([a-z-]{3})/\n\n//sweep-through all prefixes\nconst prefixLoop = function (str = '', prefixes = []) {\n  const len = str.length\n  let max = 7\n  if (max > len - 3) {\n    max = len - 3\n  }\n  for (let i = max; i > 2; i -= 1) {\n    let prefix = str.substring(0, i)\n    if (prefixes[prefix.length].hasOwnProperty(prefix) === true) {\n      let tag = prefixes[prefix.length][prefix]\n      return tag\n    }\n  }\n  return null\n}\n\n// give 'overwork' the same tag as 'work'\nconst checkPrefix = function (terms, i, model) {\n  let term = terms[i]\n  if (term.tags.size === 0) {\n    let tag = prefixLoop(term.normal, model.two.prefixPatterns)\n    if (tag !== null) {\n      // console.log(term.normal, '->', tag)\n      fastTag(term, tag, '2-prefix')\n      term.confidence = 0.5\n      return true\n    }\n  }\n  return null\n}\nexport default checkPrefix\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,gBAAgB;AACpC;;AAEA;AACA,MAAMC,UAAU,GAAG,SAAAA,CAAUC,GAAG,GAAG,EAAE,EAAEC,QAAQ,GAAG,EAAE,EAAE;EACpD,MAAMC,GAAG,GAAGF,GAAG,CAACG,MAAM;EACtB,IAAIC,GAAG,GAAG,CAAC;EACX,IAAIA,GAAG,GAAGF,GAAG,GAAG,CAAC,EAAE;IACjBE,GAAG,GAAGF,GAAG,GAAG,CAAC;EACf;EACA,KAAK,IAAIG,CAAC,GAAGD,GAAG,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAE;IAC/B,IAAIC,MAAM,GAAGN,GAAG,CAACO,SAAS,CAAC,CAAC,EAAEF,CAAC,CAAC;IAChC,IAAIJ,QAAQ,CAACK,MAAM,CAACH,MAAM,CAAC,CAACK,cAAc,CAACF,MAAM,CAAC,KAAK,IAAI,EAAE;MAC3D,IAAIG,GAAG,GAAGR,QAAQ,CAACK,MAAM,CAACH,MAAM,CAAC,CAACG,MAAM,CAAC;MACzC,OAAOG,GAAG;IACZ;EACF;EACA,OAAO,IAAI;AACb,CAAC;;AAED;AACA,MAAMC,WAAW,GAAG,SAAAA,CAAUC,KAAK,EAAEN,CAAC,EAAEO,KAAK,EAAE;EAC7C,IAAIC,IAAI,GAAGF,KAAK,CAACN,CAAC,CAAC;EACnB,IAAIQ,IAAI,CAACC,IAAI,CAACC,IAAI,KAAK,CAAC,EAAE;IACxB,IAAIN,GAAG,GAAGV,UAAU,CAACc,IAAI,CAACG,MAAM,EAAEJ,KAAK,CAACK,GAAG,CAACC,cAAc,CAAC;IAC3D,IAAIT,GAAG,KAAK,IAAI,EAAE;MAChB;MACAX,OAAO,CAACe,IAAI,EAAEJ,GAAG,EAAE,UAAU,CAAC;MAC9BI,IAAI,CAACM,UAAU,GAAG,GAAG;MACrB,OAAO,IAAI;IACb;EACF;EACA,OAAO,IAAI;AACb,CAAC;AACD,eAAeT,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nclass WordMatrix {\n  constructor(keys) {\n    this.keys = keys;\n    this.scores = {};\n    this.index = {};\n    this.size = keys.length;\n    this.createIndex();\n    this.createZeroMatrix();\n  }\n  incField(row, col) {\n    this.matrix[row][col] += 1;\n  }\n  getRow(row) {\n    return this.matrix[row];\n  }\n  process(values) {\n    const indexes = values.map(key => this.index[key]);\n    for (const row of indexes) {\n      for (const col of indexes) {\n        this.matrix[row][col] += 1;\n      }\n    }\n  }\n  calculateScores() {\n    for (const key of this.keys) {\n      const row = this.getRow(this.index[key]);\n      let deg = 0.0;\n      let freq = 0.0;\n      for (const col of row) {\n        if (col !== 0) {\n          deg += col;\n          freq += 1;\n        }\n      }\n      this.scores[key] = deg / freq;\n    }\n    return this.scores;\n  }\n  createIndex() {\n    const index = {};\n    this.keys.forEach((key, i) => index[key] = i);\n    this.index = index;\n  }\n  createZeroMatrix() {\n    const matrix = [];\n    for (let i = 0; i < this.size; i++) {\n      matrix.push(Array(this.size).fill(0));\n    }\n    this.matrix = matrix;\n  }\n}\nexports.default = WordMatrix;","map":{"version":3,"names":["WordMatrix","constructor","keys","scores","index","size","length","createIndex","createZeroMatrix","incField","row","col","matrix","getRow","process","values","indexes","map","key","calculateScores","deg","freq","forEach","i","push","Array","fill","exports","default"],"sources":["/Users/seojuyoung/sunic/project/frontend/node_modules/rake-js/src/lib/data_structures/word_matrix.ts"],"sourcesContent":["export default class WordMatrix {\n  public matrix: number[][]\n  private scores: { [key: string]: number } = {}\n  private size: number\n  private index: { [key: string]: number } = {}\n\n  constructor(private keys: string[]) {\n    this.size = keys.length\n    this.createIndex()\n    this.createZeroMatrix()\n  }\n\n  public incField(row: number, col: number) {\n    this.matrix[row][col] += 1\n  }\n\n  public getRow(row: number): number[] {\n    return this.matrix[row]\n  }\n\n  public process(values: string[]) {\n    const indexes = values.map(key => this.index[key])\n    for (const row of indexes) {\n      for (const col of indexes) {\n        this.matrix[row][col] += 1\n      }\n    }\n  }\n\n  public calculateScores() {\n    for (const key of this.keys) {\n      const row = this.getRow(this.index[key])\n      let deg = 0.0\n      let freq = 0.0\n      for (const col of row) {\n        if (col !== 0) {\n          deg += col\n          freq += 1\n        }\n      }\n      this.scores[key] = deg / freq\n    }\n    return this.scores\n  }\n\n  private createIndex() {\n    const index = {}\n    this.keys.forEach((key, i) => (index[key] = i))\n    this.index = index\n  }\n\n  private createZeroMatrix() {\n    const matrix = []\n    for (let i = 0; i < this.size; i++) {\n      matrix.push(Array(this.size).fill(0))\n    }\n    this.matrix = matrix\n  }\n}\n"],"mappings":";;;;;AAAA,MAAAA,UAAA;EAMEC,YAAoBC,IAAc;IAAd,KAAAA,IAAI,GAAJA,IAAI;IAJhB,KAAAC,MAAM,GAA8B,EAAE;IAEtC,KAAAC,KAAK,GAA8B,EAAE;IAG3C,IAAI,CAACC,IAAI,GAAGH,IAAI,CAACI,MAAM;IACvB,IAAI,CAACC,WAAW,EAAE;IAClB,IAAI,CAACC,gBAAgB,EAAE;EACzB;EAEOC,QAAQA,CAACC,GAAW,EAAEC,GAAW;IACtC,IAAI,CAACC,MAAM,CAACF,GAAG,CAAC,CAACC,GAAG,CAAC,IAAI,CAAC;EAC5B;EAEOE,MAAMA,CAACH,GAAW;IACvB,OAAO,IAAI,CAACE,MAAM,CAACF,GAAG,CAAC;EACzB;EAEOI,OAAOA,CAACC,MAAgB;IAC7B,MAAMC,OAAO,GAAGD,MAAM,CAACE,GAAG,CAACC,GAAG,IAAI,IAAI,CAACd,KAAK,CAACc,GAAG,CAAC,CAAC;IAClD,KAAK,MAAMR,GAAG,IAAIM,OAAO,EAAE;MACzB,KAAK,MAAML,GAAG,IAAIK,OAAO,EAAE;QACzB,IAAI,CAACJ,MAAM,CAACF,GAAG,CAAC,CAACC,GAAG,CAAC,IAAI,CAAC;MAC5B;IACF;EACF;EAEOQ,eAAeA,CAAA;IACpB,KAAK,MAAMD,GAAG,IAAI,IAAI,CAAChB,IAAI,EAAE;MAC3B,MAAMQ,GAAG,GAAG,IAAI,CAACG,MAAM,CAAC,IAAI,CAACT,KAAK,CAACc,GAAG,CAAC,CAAC;MACxC,IAAIE,GAAG,GAAG,GAAG;MACb,IAAIC,IAAI,GAAG,GAAG;MACd,KAAK,MAAMV,GAAG,IAAID,GAAG,EAAE;QACrB,IAAIC,GAAG,KAAK,CAAC,EAAE;UACbS,GAAG,IAAIT,GAAG;UACVU,IAAI,IAAI,CAAC;QACX;MACF;MACA,IAAI,CAAClB,MAAM,CAACe,GAAG,CAAC,GAAGE,GAAG,GAAGC,IAAI;IAC/B;IACA,OAAO,IAAI,CAAClB,MAAM;EACpB;EAEQI,WAAWA,CAAA;IACjB,MAAMH,KAAK,GAAG,EAAE;IAChB,IAAI,CAACF,IAAI,CAACoB,OAAO,CAAC,CAACJ,GAAG,EAAEK,CAAC,KAAMnB,KAAK,CAACc,GAAG,CAAC,GAAGK,CAAE,CAAC;IAC/C,IAAI,CAACnB,KAAK,GAAGA,KAAK;EACpB;EAEQI,gBAAgBA,CAAA;IACtB,MAAMI,MAAM,GAAG,EAAE;IACjB,KAAK,IAAIW,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClB,IAAI,EAAEkB,CAAC,EAAE,EAAE;MAClCX,MAAM,CAACY,IAAI,CAACC,KAAK,CAAC,IAAI,CAACpB,IAAI,CAAC,CAACqB,IAAI,CAAC,CAAC,CAAC,CAAC;IACvC;IACA,IAAI,CAACd,MAAM,GAAGA,MAAM;EACtB;;AAzDFe,OAAA,CAAAC,OAAA,GAAA5B,UAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}
{"ast":null,"code":"import { doAndBlock } from './logic/and-or.js';\nimport { getGroup } from '../_lib.js';\n\n// '(foo && #Noun)' - require all matches on the term\nconst andBlock = function (state) {\n  const {\n    regs\n  } = state;\n  let reg = regs[state.r];\n  let skipNum = doAndBlock(state);\n  if (skipNum) {\n    // handle 'not' logic\n    if (reg.negative === true) {\n      return null; // die\n    }\n    if (state.hasGroup === true) {\n      const g = getGroup(state, state.t);\n      g.length += skipNum;\n    }\n    // ensure we're at the end\n    if (reg.end === true) {\n      let end = state.phrase_length - 1;\n      if (state.t + state.start_i !== end) {\n        return null;\n      }\n    }\n    state.t += skipNum;\n    // log(`✓ |found-and|`)\n    return true;\n  } else if (!reg.optional) {\n    return null; //die\n  }\n  return true;\n};\nexport default andBlock;","map":{"version":3,"names":["doAndBlock","getGroup","andBlock","state","regs","reg","r","skipNum","negative","hasGroup","g","t","length","end","phrase_length","start_i","optional"],"sources":["/Users/seojuyoung/sunic/project/frontend/node_modules/compromise/src/1-one/match/methods/match/steps/and-block.js"],"sourcesContent":["import { doAndBlock } from './logic/and-or.js'\nimport { getGroup } from '../_lib.js'\n\n// '(foo && #Noun)' - require all matches on the term\nconst andBlock = function (state) {\n  const { regs } = state\n  let reg = regs[state.r]\n\n  let skipNum = doAndBlock(state)\n  if (skipNum) {\n    // handle 'not' logic\n    if (reg.negative === true) {\n      return null // die\n    }\n    if (state.hasGroup === true) {\n      const g = getGroup(state, state.t)\n      g.length += skipNum\n    }\n    // ensure we're at the end\n    if (reg.end === true) {\n      let end = state.phrase_length - 1\n      if (state.t + state.start_i !== end) {\n        return null\n      }\n    }\n    state.t += skipNum\n    // log(`✓ |found-and|`)\n    return true\n  } else if (!reg.optional) {\n    return null //die\n  }\n  return true\n}\nexport default andBlock"],"mappings":"AAAA,SAASA,UAAU,QAAQ,mBAAmB;AAC9C,SAASC,QAAQ,QAAQ,YAAY;;AAErC;AACA,MAAMC,QAAQ,GAAG,SAAAA,CAAUC,KAAK,EAAE;EAChC,MAAM;IAAEC;EAAK,CAAC,GAAGD,KAAK;EACtB,IAAIE,GAAG,GAAGD,IAAI,CAACD,KAAK,CAACG,CAAC,CAAC;EAEvB,IAAIC,OAAO,GAAGP,UAAU,CAACG,KAAK,CAAC;EAC/B,IAAII,OAAO,EAAE;IACX;IACA,IAAIF,GAAG,CAACG,QAAQ,KAAK,IAAI,EAAE;MACzB,OAAO,IAAI,EAAC;IACd;IACA,IAAIL,KAAK,CAACM,QAAQ,KAAK,IAAI,EAAE;MAC3B,MAAMC,CAAC,GAAGT,QAAQ,CAACE,KAAK,EAAEA,KAAK,CAACQ,CAAC,CAAC;MAClCD,CAAC,CAACE,MAAM,IAAIL,OAAO;IACrB;IACA;IACA,IAAIF,GAAG,CAACQ,GAAG,KAAK,IAAI,EAAE;MACpB,IAAIA,GAAG,GAAGV,KAAK,CAACW,aAAa,GAAG,CAAC;MACjC,IAAIX,KAAK,CAACQ,CAAC,GAAGR,KAAK,CAACY,OAAO,KAAKF,GAAG,EAAE;QACnC,OAAO,IAAI;MACb;IACF;IACAV,KAAK,CAACQ,CAAC,IAAIJ,OAAO;IAClB;IACA,OAAO,IAAI;EACb,CAAC,MAAM,IAAI,CAACF,GAAG,CAACW,QAAQ,EAAE;IACxB,OAAO,IAAI,EAAC;EACd;EACA,OAAO,IAAI;AACb,CAAC;AACD,eAAed,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
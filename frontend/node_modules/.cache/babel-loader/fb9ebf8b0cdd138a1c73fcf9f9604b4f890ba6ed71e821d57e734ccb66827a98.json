{"ast":null,"code":"import { doOrBlock } from './logic/and-or.js';\nimport { getGroup } from '../_lib.js';\nconst orBlock = function (state) {\n  const {\n    regs\n  } = state;\n  let reg = regs[state.r];\n  let skipNum = doOrBlock(state);\n  // did we find a match?\n  if (skipNum) {\n    // handle 'not' logic\n    if (reg.negative === true) {\n      return null; // die\n    }\n    // tuck in as named-group\n    if (state.hasGroup === true) {\n      const g = getGroup(state, state.t);\n      g.length += skipNum;\n    }\n    // ensure we're at the end\n    if (reg.end === true) {\n      let end = state.phrase_length;\n      if (state.t + state.start_i + skipNum !== end) {\n        return null;\n      }\n    }\n    state.t += skipNum;\n    // log(`✓ |found-or|`)\n    return true;\n  } else if (!reg.optional) {\n    return null; //die\n  }\n  return true;\n};\nexport default orBlock;","map":{"version":3,"names":["doOrBlock","getGroup","orBlock","state","regs","reg","r","skipNum","negative","hasGroup","g","t","length","end","phrase_length","start_i","optional"],"sources":["/Users/seojuyoung/sunic/project/frontend/node_modules/compromise/src/1-one/match/methods/match/steps/or-block.js"],"sourcesContent":["import { doOrBlock } from './logic/and-or.js'\nimport { getGroup } from '../_lib.js'\n\nconst orBlock = function (state) {\n  const { regs } = state\n  let reg = regs[state.r]\n  let skipNum = doOrBlock(state)\n  // did we find a match?\n  if (skipNum) {\n    // handle 'not' logic\n    if (reg.negative === true) {\n      return null // die\n    }\n    // tuck in as named-group\n    if (state.hasGroup === true) {\n      const g = getGroup(state, state.t)\n      g.length += skipNum\n    }\n    // ensure we're at the end\n    if (reg.end === true) {\n      let end = state.phrase_length\n      if (state.t + state.start_i + skipNum !== end) {\n        return null\n      }\n    }\n    state.t += skipNum\n    // log(`✓ |found-or|`)\n    return true\n  } else if (!reg.optional) {\n    return null //die\n  }\n  return true\n}\nexport default orBlock"],"mappings":"AAAA,SAASA,SAAS,QAAQ,mBAAmB;AAC7C,SAASC,QAAQ,QAAQ,YAAY;AAErC,MAAMC,OAAO,GAAG,SAAAA,CAAUC,KAAK,EAAE;EAC/B,MAAM;IAAEC;EAAK,CAAC,GAAGD,KAAK;EACtB,IAAIE,GAAG,GAAGD,IAAI,CAACD,KAAK,CAACG,CAAC,CAAC;EACvB,IAAIC,OAAO,GAAGP,SAAS,CAACG,KAAK,CAAC;EAC9B;EACA,IAAII,OAAO,EAAE;IACX;IACA,IAAIF,GAAG,CAACG,QAAQ,KAAK,IAAI,EAAE;MACzB,OAAO,IAAI,EAAC;IACd;IACA;IACA,IAAIL,KAAK,CAACM,QAAQ,KAAK,IAAI,EAAE;MAC3B,MAAMC,CAAC,GAAGT,QAAQ,CAACE,KAAK,EAAEA,KAAK,CAACQ,CAAC,CAAC;MAClCD,CAAC,CAACE,MAAM,IAAIL,OAAO;IACrB;IACA;IACA,IAAIF,GAAG,CAACQ,GAAG,KAAK,IAAI,EAAE;MACpB,IAAIA,GAAG,GAAGV,KAAK,CAACW,aAAa;MAC7B,IAAIX,KAAK,CAACQ,CAAC,GAAGR,KAAK,CAACY,OAAO,GAAGR,OAAO,KAAKM,GAAG,EAAE;QAC7C,OAAO,IAAI;MACb;IACF;IACAV,KAAK,CAACQ,CAAC,IAAIJ,OAAO;IAClB;IACA,OAAO,IAAI;EACb,CAAC,MAAM,IAAI,CAACF,GAAG,CAACW,QAAQ,EAAE;IACxB,OAAO,IAAI,EAAC;EACd;EACA,OAAO,IAAI;AACb,CAAC;AACD,eAAed,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"// filter-down list of maybe-matches\nconst localTrim = function (maybeList, docCache) {\n  return maybeList.map((list, n) => {\n    let haves = docCache[n];\n    // ensure all stated-needs of the match are met\n    list = list.filter(obj => {\n      return obj.needs.every(need => haves.has(need));\n    });\n    // ensure nothing matches in our 'ifNo' property\n    list = list.filter(obj => {\n      if (obj.ifNo !== undefined && obj.ifNo.some(no => haves.has(no)) === true) {\n        return false;\n      }\n      return true;\n    });\n    // ensure atleast one(?) of the wants is found\n    list = list.filter(obj => {\n      if (obj.wants.length === 0) {\n        return true;\n      }\n      // ensure there's one cache-hit\n      let found = obj.wants.filter(str => haves.has(str)).length;\n      return found >= obj.minWant;\n    });\n    return list;\n  });\n};\nexport default localTrim;","map":{"version":3,"names":["localTrim","maybeList","docCache","map","list","n","haves","filter","obj","needs","every","need","has","ifNo","undefined","some","no","wants","length","found","str","minWant"],"sources":["/Users/seojuyoung/sunic/project/frontend/node_modules/compromise/src/1-one/sweep/methods/sweep/02-trim-down.js"],"sourcesContent":["// filter-down list of maybe-matches\nconst localTrim = function (maybeList, docCache) {\n  return maybeList.map((list, n) => {\n    let haves = docCache[n]\n    // ensure all stated-needs of the match are met\n    list = list.filter(obj => {\n      return obj.needs.every(need => haves.has(need))\n    })\n    // ensure nothing matches in our 'ifNo' property\n    list = list.filter(obj => {\n      if (obj.ifNo !== undefined && obj.ifNo.some(no => haves.has(no)) === true) {\n        return false\n      }\n      return true\n    })\n    // ensure atleast one(?) of the wants is found\n    list = list.filter(obj => {\n      if (obj.wants.length === 0) {\n        return true\n      }\n      // ensure there's one cache-hit\n      let found = obj.wants.filter(str => haves.has(str)).length\n      return found >= obj.minWant\n    })\n    return list\n  })\n}\nexport default localTrim\n"],"mappings":"AAAA;AACA,MAAMA,SAAS,GAAG,SAAAA,CAAUC,SAAS,EAAEC,QAAQ,EAAE;EAC/C,OAAOD,SAAS,CAACE,GAAG,CAAC,CAACC,IAAI,EAAEC,CAAC,KAAK;IAChC,IAAIC,KAAK,GAAGJ,QAAQ,CAACG,CAAC,CAAC;IACvB;IACAD,IAAI,GAAGA,IAAI,CAACG,MAAM,CAACC,GAAG,IAAI;MACxB,OAAOA,GAAG,CAACC,KAAK,CAACC,KAAK,CAACC,IAAI,IAAIL,KAAK,CAACM,GAAG,CAACD,IAAI,CAAC,CAAC;IACjD,CAAC,CAAC;IACF;IACAP,IAAI,GAAGA,IAAI,CAACG,MAAM,CAACC,GAAG,IAAI;MACxB,IAAIA,GAAG,CAACK,IAAI,KAAKC,SAAS,IAAIN,GAAG,CAACK,IAAI,CAACE,IAAI,CAACC,EAAE,IAAIV,KAAK,CAACM,GAAG,CAACI,EAAE,CAAC,CAAC,KAAK,IAAI,EAAE;QACzE,OAAO,KAAK;MACd;MACA,OAAO,IAAI;IACb,CAAC,CAAC;IACF;IACAZ,IAAI,GAAGA,IAAI,CAACG,MAAM,CAACC,GAAG,IAAI;MACxB,IAAIA,GAAG,CAACS,KAAK,CAACC,MAAM,KAAK,CAAC,EAAE;QAC1B,OAAO,IAAI;MACb;MACA;MACA,IAAIC,KAAK,GAAGX,GAAG,CAACS,KAAK,CAACV,MAAM,CAACa,GAAG,IAAId,KAAK,CAACM,GAAG,CAACQ,GAAG,CAAC,CAAC,CAACF,MAAM;MAC1D,OAAOC,KAAK,IAAIX,GAAG,CAACa,OAAO;IAC7B,CAAC,CAAC;IACF,OAAOjB,IAAI;EACb,CAAC,CAAC;AACJ,CAAC;AACD,eAAeJ,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
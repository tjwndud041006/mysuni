{"ast":null,"code":"import matchTerm from '../term/doesMatch.js';\n\n// 'foo? foo' matches are tricky.\nconst foundOptional = function (state) {\n  const {\n    regs\n  } = state;\n  let reg = regs[state.r];\n  let term = state.terms[state.t];\n  // does the next reg match it too?\n  let nextRegMatched = matchTerm(term, regs[state.r + 1], state.start_i + state.t, state.phrase_length);\n  if (reg.negative || nextRegMatched) {\n    // but does the next reg match the next term??\n    // only skip if it doesn't\n    let nextTerm = state.terms[state.t + 1];\n    if (!nextTerm || !matchTerm(nextTerm, regs[state.r + 1], state.start_i + state.t, state.phrase_length)) {\n      state.r += 1;\n    }\n  }\n};\nexport default foundOptional;","map":{"version":3,"names":["matchTerm","foundOptional","state","regs","reg","r","term","terms","t","nextRegMatched","start_i","phrase_length","negative","nextTerm"],"sources":["/Users/seojuyoung/sunic/project/frontend/node_modules/compromise/src/1-one/match/methods/match/steps/optional-match.js"],"sourcesContent":["import matchTerm from '../term/doesMatch.js'\n\n// 'foo? foo' matches are tricky.\nconst foundOptional = function (state) {\n  const { regs } = state\n  let reg = regs[state.r]\n  let term = state.terms[state.t]\n  // does the next reg match it too?\n  let nextRegMatched = matchTerm(term, regs[state.r + 1], state.start_i + state.t, state.phrase_length)\n  if (reg.negative || nextRegMatched) {\n    // but does the next reg match the next term??\n    // only skip if it doesn't\n    let nextTerm = state.terms[state.t + 1]\n    if (!nextTerm || !matchTerm(nextTerm, regs[state.r + 1], state.start_i + state.t, state.phrase_length)) {\n      state.r += 1\n    }\n  }\n}\n\nexport default foundOptional"],"mappings":"AAAA,OAAOA,SAAS,MAAM,sBAAsB;;AAE5C;AACA,MAAMC,aAAa,GAAG,SAAAA,CAAUC,KAAK,EAAE;EACrC,MAAM;IAAEC;EAAK,CAAC,GAAGD,KAAK;EACtB,IAAIE,GAAG,GAAGD,IAAI,CAACD,KAAK,CAACG,CAAC,CAAC;EACvB,IAAIC,IAAI,GAAGJ,KAAK,CAACK,KAAK,CAACL,KAAK,CAACM,CAAC,CAAC;EAC/B;EACA,IAAIC,cAAc,GAAGT,SAAS,CAACM,IAAI,EAAEH,IAAI,CAACD,KAAK,CAACG,CAAC,GAAG,CAAC,CAAC,EAAEH,KAAK,CAACQ,OAAO,GAAGR,KAAK,CAACM,CAAC,EAAEN,KAAK,CAACS,aAAa,CAAC;EACrG,IAAIP,GAAG,CAACQ,QAAQ,IAAIH,cAAc,EAAE;IAClC;IACA;IACA,IAAII,QAAQ,GAAGX,KAAK,CAACK,KAAK,CAACL,KAAK,CAACM,CAAC,GAAG,CAAC,CAAC;IACvC,IAAI,CAACK,QAAQ,IAAI,CAACb,SAAS,CAACa,QAAQ,EAAEV,IAAI,CAACD,KAAK,CAACG,CAAC,GAAG,CAAC,CAAC,EAAEH,KAAK,CAACQ,OAAO,GAAGR,KAAK,CAACM,CAAC,EAAEN,KAAK,CAACS,aAAa,CAAC,EAAE;MACtGT,KAAK,CAACG,CAAC,IAAI,CAAC;IACd;EACF;AACF,CAAC;AAED,eAAeJ,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
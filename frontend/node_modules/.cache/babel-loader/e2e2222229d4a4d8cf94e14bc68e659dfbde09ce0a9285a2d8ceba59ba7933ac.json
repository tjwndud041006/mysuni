{"ast":null,"code":"'use strict';\n\n// This file contains crypto utility functions for versions of Node.js < 15.0.0,\n// which does not support the WebCrypto.subtle API.\nconst nodeCrypto = require('crypto');\nfunction md5(string) {\n  return nodeCrypto.createHash('md5').update(string, 'utf-8').digest('hex');\n}\n\n// See AuthenticationMD5Password at https://www.postgresql.org/docs/current/static/protocol-flow.html\nfunction postgresMd5PasswordHash(user, password, salt) {\n  const inner = md5(password + user);\n  const outer = md5(Buffer.concat([Buffer.from(inner), salt]));\n  return 'md5' + outer;\n}\nfunction sha256(text) {\n  return nodeCrypto.createHash('sha256').update(text).digest();\n}\nfunction hashByName(hashName, text) {\n  hashName = hashName.replace(/(\\D)-/, '$1'); // e.g. SHA-256 -> SHA256\n  return nodeCrypto.createHash(hashName).update(text).digest();\n}\nfunction hmacSha256(key, msg) {\n  return nodeCrypto.createHmac('sha256', key).update(msg).digest();\n}\nasync function deriveKey(password, salt, iterations) {\n  return nodeCrypto.pbkdf2Sync(password, salt, iterations, 32, 'sha256');\n}\nmodule.exports = {\n  postgresMd5PasswordHash,\n  randomBytes: nodeCrypto.randomBytes,\n  deriveKey,\n  sha256,\n  hashByName,\n  hmacSha256,\n  md5\n};","map":{"version":3,"names":["nodeCrypto","require","md5","string","createHash","update","digest","postgresMd5PasswordHash","user","password","salt","inner","outer","Buffer","concat","from","sha256","text","hashByName","hashName","replace","hmacSha256","key","msg","createHmac","deriveKey","iterations","pbkdf2Sync","module","exports","randomBytes"],"sources":["/Users/seojuyoung/sunic/project/frontend/node_modules/pg/lib/crypto/utils-legacy.js"],"sourcesContent":["'use strict'\n// This file contains crypto utility functions for versions of Node.js < 15.0.0,\n// which does not support the WebCrypto.subtle API.\n\nconst nodeCrypto = require('crypto')\n\nfunction md5(string) {\n  return nodeCrypto.createHash('md5').update(string, 'utf-8').digest('hex')\n}\n\n// See AuthenticationMD5Password at https://www.postgresql.org/docs/current/static/protocol-flow.html\nfunction postgresMd5PasswordHash(user, password, salt) {\n  const inner = md5(password + user)\n  const outer = md5(Buffer.concat([Buffer.from(inner), salt]))\n  return 'md5' + outer\n}\n\nfunction sha256(text) {\n  return nodeCrypto.createHash('sha256').update(text).digest()\n}\n\nfunction hashByName(hashName, text) {\n  hashName = hashName.replace(/(\\D)-/, '$1') // e.g. SHA-256 -> SHA256\n  return nodeCrypto.createHash(hashName).update(text).digest()\n}\n\nfunction hmacSha256(key, msg) {\n  return nodeCrypto.createHmac('sha256', key).update(msg).digest()\n}\n\nasync function deriveKey(password, salt, iterations) {\n  return nodeCrypto.pbkdf2Sync(password, salt, iterations, 32, 'sha256')\n}\n\nmodule.exports = {\n  postgresMd5PasswordHash,\n  randomBytes: nodeCrypto.randomBytes,\n  deriveKey,\n  sha256,\n  hashByName,\n  hmacSha256,\n  md5,\n}\n"],"mappings":"AAAA,YAAY;;AACZ;AACA;AAEA,MAAMA,UAAU,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAEpC,SAASC,GAAGA,CAACC,MAAM,EAAE;EACnB,OAAOH,UAAU,CAACI,UAAU,CAAC,KAAK,CAAC,CAACC,MAAM,CAACF,MAAM,EAAE,OAAO,CAAC,CAACG,MAAM,CAAC,KAAK,CAAC;AAC3E;;AAEA;AACA,SAASC,uBAAuBA,CAACC,IAAI,EAAEC,QAAQ,EAAEC,IAAI,EAAE;EACrD,MAAMC,KAAK,GAAGT,GAAG,CAACO,QAAQ,GAAGD,IAAI,CAAC;EAClC,MAAMI,KAAK,GAAGV,GAAG,CAACW,MAAM,CAACC,MAAM,CAAC,CAACD,MAAM,CAACE,IAAI,CAACJ,KAAK,CAAC,EAAED,IAAI,CAAC,CAAC,CAAC;EAC5D,OAAO,KAAK,GAAGE,KAAK;AACtB;AAEA,SAASI,MAAMA,CAACC,IAAI,EAAE;EACpB,OAAOjB,UAAU,CAACI,UAAU,CAAC,QAAQ,CAAC,CAACC,MAAM,CAACY,IAAI,CAAC,CAACX,MAAM,CAAC,CAAC;AAC9D;AAEA,SAASY,UAAUA,CAACC,QAAQ,EAAEF,IAAI,EAAE;EAClCE,QAAQ,GAAGA,QAAQ,CAACC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,EAAC;EAC3C,OAAOpB,UAAU,CAACI,UAAU,CAACe,QAAQ,CAAC,CAACd,MAAM,CAACY,IAAI,CAAC,CAACX,MAAM,CAAC,CAAC;AAC9D;AAEA,SAASe,UAAUA,CAACC,GAAG,EAAEC,GAAG,EAAE;EAC5B,OAAOvB,UAAU,CAACwB,UAAU,CAAC,QAAQ,EAAEF,GAAG,CAAC,CAACjB,MAAM,CAACkB,GAAG,CAAC,CAACjB,MAAM,CAAC,CAAC;AAClE;AAEA,eAAemB,SAASA,CAAChB,QAAQ,EAAEC,IAAI,EAAEgB,UAAU,EAAE;EACnD,OAAO1B,UAAU,CAAC2B,UAAU,CAAClB,QAAQ,EAAEC,IAAI,EAAEgB,UAAU,EAAE,EAAE,EAAE,QAAQ,CAAC;AACxE;AAEAE,MAAM,CAACC,OAAO,GAAG;EACftB,uBAAuB;EACvBuB,WAAW,EAAE9B,UAAU,CAAC8B,WAAW;EACnCL,SAAS;EACTT,MAAM;EACNE,UAAU;EACVG,UAAU;EACVnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}
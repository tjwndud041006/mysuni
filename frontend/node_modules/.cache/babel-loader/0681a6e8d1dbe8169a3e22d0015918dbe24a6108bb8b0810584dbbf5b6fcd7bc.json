{"ast":null,"code":"const toArr = function (input) {\n  if (!input) {\n    return [];\n  }\n  if (typeof input === 'string') {\n    return [input];\n  }\n  return input;\n};\nconst addImplied = function (tags, already) {\n  Object.keys(tags).forEach(k => {\n    // support deprecated fmts\n    if (tags[k].isA) {\n      tags[k].is = tags[k].isA;\n    }\n    if (tags[k].notA) {\n      tags[k].not = tags[k].notA;\n    }\n    // add any implicit 'is' tags\n    if (tags[k].is && typeof tags[k].is === 'string') {\n      if (!already.hasOwnProperty(tags[k].is) && !tags.hasOwnProperty(tags[k].is)) {\n        tags[tags[k].is] = {};\n      }\n    }\n    // add any implicit 'not' tags\n    if (tags[k].not && typeof tags[k].not === 'string' && !tags.hasOwnProperty(tags[k].not)) {\n      if (!already.hasOwnProperty(tags[k].not) && !tags.hasOwnProperty(tags[k].not)) {\n        tags[tags[k].not] = {};\n      }\n    }\n  });\n  return tags;\n};\nconst validate = function (tags, already) {\n  tags = addImplied(tags, already);\n\n  // property validation\n  Object.keys(tags).forEach(k => {\n    tags[k].children = toArr(tags[k].children);\n    tags[k].not = toArr(tags[k].not);\n  });\n  // not links are bi-directional\n  // add any incoming not tags\n  Object.keys(tags).forEach(k => {\n    let nots = tags[k].not || [];\n    nots.forEach(no => {\n      if (tags[no] && tags[no].not) {\n        tags[no].not.push(k);\n      }\n    });\n  });\n  return tags;\n};\nexport default validate;","map":{"version":3,"names":["toArr","input","addImplied","tags","already","Object","keys","forEach","k","isA","is","notA","not","hasOwnProperty","validate","children","nots","no","push"],"sources":["/Users/seojuyoung/sunic/project/frontend/node_modules/compromise/src/1-one/tag/methods/addTags/01-validate.js"],"sourcesContent":["\nconst toArr = function (input) {\n  if (!input) {\n    return []\n  }\n  if (typeof input === 'string') {\n    return [input]\n  }\n  return input\n}\n\nconst addImplied = function (tags, already) {\n  Object.keys(tags).forEach(k => {\n    // support deprecated fmts\n    if (tags[k].isA) {\n      tags[k].is = tags[k].isA\n    }\n    if (tags[k].notA) {\n      tags[k].not = tags[k].notA\n    }\n    // add any implicit 'is' tags\n    if (tags[k].is && typeof tags[k].is === 'string') {\n      if (!already.hasOwnProperty(tags[k].is) && !tags.hasOwnProperty(tags[k].is)) {\n        tags[tags[k].is] = {}\n      }\n    }\n    // add any implicit 'not' tags\n    if (tags[k].not && typeof tags[k].not === 'string' && !tags.hasOwnProperty(tags[k].not)) {\n      if (!already.hasOwnProperty(tags[k].not) && !tags.hasOwnProperty(tags[k].not)) {\n        tags[tags[k].not] = {}\n      }\n    }\n  })\n  return tags\n}\n\n\nconst validate = function (tags, already) {\n\n  tags = addImplied(tags, already)\n\n  // property validation\n  Object.keys(tags).forEach(k => {\n    tags[k].children = toArr(tags[k].children)\n    tags[k].not = toArr(tags[k].not)\n  })\n  // not links are bi-directional\n  // add any incoming not tags\n  Object.keys(tags).forEach(k => {\n    let nots = tags[k].not || []\n    nots.forEach(no => {\n      if (tags[no] && tags[no].not) {\n        tags[no].not.push(k)\n      }\n    })\n  })\n  return tags\n}\nexport default validate"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
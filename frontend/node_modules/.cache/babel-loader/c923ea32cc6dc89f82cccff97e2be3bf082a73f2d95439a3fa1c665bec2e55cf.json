{"ast":null,"code":"const fixUp = function (docs) {\n  let byChunk = [];\n  let current = null;\n  docs.forEach(terms => {\n    // ensure an adjective chunk is preceded by a copula\n    for (let i = 0; i < terms.length; i += 1) {\n      let term = terms[i];\n      if (current && term.chunk === current) {\n        byChunk[byChunk.length - 1].terms.push(term);\n      } else {\n        byChunk.push({\n          chunk: term.chunk,\n          terms: [term]\n        });\n        current = term.chunk;\n      }\n    }\n  });\n  // ensure every verb-phrase actually has a verb\n  byChunk.forEach(c => {\n    if (c.chunk === 'Verb') {\n      const hasVerb = c.terms.find(t => t.tags.has('Verb'));\n      if (!hasVerb) {\n        c.terms.forEach(t => t.chunk = null);\n      }\n    }\n  });\n};\nexport default fixUp;","map":{"version":3,"names":["fixUp","docs","byChunk","current","forEach","terms","i","length","term","chunk","push","c","hasVerb","find","t","tags","has"],"sources":["/Users/seojuyoung/sunic/project/frontend/node_modules/compromise/src/3-three/chunker/compute/05-fixUp.js"],"sourcesContent":["const fixUp = function (docs) {\n  let byChunk = []\n  let current = null\n  docs.forEach(terms => {\n    // ensure an adjective chunk is preceded by a copula\n    for (let i = 0; i < terms.length; i += 1) {\n      let term = terms[i]\n      if (current && term.chunk === current) {\n        byChunk[byChunk.length - 1].terms.push(term)\n      } else {\n        byChunk.push({ chunk: term.chunk, terms: [term] })\n        current = term.chunk\n      }\n    }\n  })\n  // ensure every verb-phrase actually has a verb\n  byChunk.forEach(c => {\n    if (c.chunk === 'Verb') {\n      const hasVerb = c.terms.find(t => t.tags.has('Verb'))\n      if (!hasVerb) {\n        c.terms.forEach(t => t.chunk = null)\n      }\n    }\n  })\n}\nexport default fixUp\n"],"mappings":"AAAA,MAAMA,KAAK,GAAG,SAAAA,CAAUC,IAAI,EAAE;EAC5B,IAAIC,OAAO,GAAG,EAAE;EAChB,IAAIC,OAAO,GAAG,IAAI;EAClBF,IAAI,CAACG,OAAO,CAACC,KAAK,IAAI;IACpB;IACA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,KAAK,CAACE,MAAM,EAAED,CAAC,IAAI,CAAC,EAAE;MACxC,IAAIE,IAAI,GAAGH,KAAK,CAACC,CAAC,CAAC;MACnB,IAAIH,OAAO,IAAIK,IAAI,CAACC,KAAK,KAAKN,OAAO,EAAE;QACrCD,OAAO,CAACA,OAAO,CAACK,MAAM,GAAG,CAAC,CAAC,CAACF,KAAK,CAACK,IAAI,CAACF,IAAI,CAAC;MAC9C,CAAC,MAAM;QACLN,OAAO,CAACQ,IAAI,CAAC;UAAED,KAAK,EAAED,IAAI,CAACC,KAAK;UAAEJ,KAAK,EAAE,CAACG,IAAI;QAAE,CAAC,CAAC;QAClDL,OAAO,GAAGK,IAAI,CAACC,KAAK;MACtB;IACF;EACF,CAAC,CAAC;EACF;EACAP,OAAO,CAACE,OAAO,CAACO,CAAC,IAAI;IACnB,IAAIA,CAAC,CAACF,KAAK,KAAK,MAAM,EAAE;MACtB,MAAMG,OAAO,GAAGD,CAAC,CAACN,KAAK,CAACQ,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,CAACC,GAAG,CAAC,MAAM,CAAC,CAAC;MACrD,IAAI,CAACJ,OAAO,EAAE;QACZD,CAAC,CAACN,KAAK,CAACD,OAAO,CAACU,CAAC,IAAIA,CAAC,CAACL,KAAK,GAAG,IAAI,CAAC;MACtC;IACF;EACF,CAAC,CAAC;AACJ,CAAC;AACD,eAAeT,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
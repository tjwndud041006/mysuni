{"ast":null,"code":"import fastTag from '../_fastTag.js';\nimport fillTag from './_fillTags.js';\nconst lookAtWord = function (term, words) {\n  if (!term) {\n    return null;\n  }\n  // look at prev word <-\n  let found = words.find(a => term.normal === a[0]);\n  if (found) {\n    return found[1];\n  }\n  return null;\n};\nconst lookAtTag = function (term, tags) {\n  if (!term) {\n    return null;\n  }\n  let found = tags.find(a => term.tags.has(a[0]));\n  if (found) {\n    return found[1];\n  }\n  return null;\n};\n\n// look at neighbours for hints on unknown words\nconst neighbours = function (terms, i, model) {\n  const {\n    leftTags,\n    leftWords,\n    rightWords,\n    rightTags\n  } = model.two.neighbours;\n  let term = terms[i];\n  if (term.tags.size === 0) {\n    let tag = null;\n    // look left <-\n    tag = tag || lookAtWord(terms[i - 1], leftWords);\n    // look right ->\n    tag = tag || lookAtWord(terms[i + 1], rightWords);\n    // look left <-\n    tag = tag || lookAtTag(terms[i - 1], leftTags);\n    // look right ->\n    tag = tag || lookAtTag(terms[i + 1], rightTags);\n    if (tag) {\n      fastTag(term, tag, '3-[neighbour]');\n      fillTag(terms, i, model);\n      terms[i].confidence = 0.2;\n      return true;\n    }\n  }\n  return null;\n};\nexport default neighbours;","map":{"version":3,"names":["fastTag","fillTag","lookAtWord","term","words","found","find","a","normal","lookAtTag","tags","has","neighbours","terms","i","model","leftTags","leftWords","rightWords","rightTags","two","size","tag","confidence"],"sources":["/Users/seojuyoung/sunic/project/frontend/node_modules/compromise/src/2-two/preTagger/compute/tagger/3rd-pass/02-neighbours.js"],"sourcesContent":["import fastTag from '../_fastTag.js'\nimport fillTag from './_fillTags.js'\n\nconst lookAtWord = function (term, words) {\n  if (!term) {\n    return null\n  }\n  // look at prev word <-\n  let found = words.find(a => term.normal === a[0])\n  if (found) {\n    return found[1]\n  }\n  return null\n}\n\nconst lookAtTag = function (term, tags) {\n  if (!term) {\n    return null\n  }\n  let found = tags.find(a => term.tags.has(a[0]))\n  if (found) {\n    return found[1]\n  }\n  return null\n}\n\n// look at neighbours for hints on unknown words\nconst neighbours = function (terms, i, model) {\n  const { leftTags, leftWords, rightWords, rightTags } = model.two.neighbours\n  let term = terms[i]\n  if (term.tags.size === 0) {\n    let tag = null\n    // look left <-\n    tag = tag || lookAtWord(terms[i - 1], leftWords)\n    // look right ->\n    tag = tag || lookAtWord(terms[i + 1], rightWords)\n    // look left <-\n    tag = tag || lookAtTag(terms[i - 1], leftTags)\n    // look right ->\n    tag = tag || lookAtTag(terms[i + 1], rightTags)\n    if (tag) {\n      fastTag(term, tag, '3-[neighbour]')\n      fillTag(terms, i, model)\n      terms[i].confidence = 0.2\n      return true\n    }\n  }\n  return null\n}\nexport default neighbours\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,gBAAgB;AACpC,OAAOC,OAAO,MAAM,gBAAgB;AAEpC,MAAMC,UAAU,GAAG,SAAAA,CAAUC,IAAI,EAAEC,KAAK,EAAE;EACxC,IAAI,CAACD,IAAI,EAAE;IACT,OAAO,IAAI;EACb;EACA;EACA,IAAIE,KAAK,GAAGD,KAAK,CAACE,IAAI,CAACC,CAAC,IAAIJ,IAAI,CAACK,MAAM,KAAKD,CAAC,CAAC,CAAC,CAAC,CAAC;EACjD,IAAIF,KAAK,EAAE;IACT,OAAOA,KAAK,CAAC,CAAC,CAAC;EACjB;EACA,OAAO,IAAI;AACb,CAAC;AAED,MAAMI,SAAS,GAAG,SAAAA,CAAUN,IAAI,EAAEO,IAAI,EAAE;EACtC,IAAI,CAACP,IAAI,EAAE;IACT,OAAO,IAAI;EACb;EACA,IAAIE,KAAK,GAAGK,IAAI,CAACJ,IAAI,CAACC,CAAC,IAAIJ,IAAI,CAACO,IAAI,CAACC,GAAG,CAACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC/C,IAAIF,KAAK,EAAE;IACT,OAAOA,KAAK,CAAC,CAAC,CAAC;EACjB;EACA,OAAO,IAAI;AACb,CAAC;;AAED;AACA,MAAMO,UAAU,GAAG,SAAAA,CAAUC,KAAK,EAAEC,CAAC,EAAEC,KAAK,EAAE;EAC5C,MAAM;IAAEC,QAAQ;IAAEC,SAAS;IAAEC,UAAU;IAAEC;EAAU,CAAC,GAAGJ,KAAK,CAACK,GAAG,CAACR,UAAU;EAC3E,IAAIT,IAAI,GAAGU,KAAK,CAACC,CAAC,CAAC;EACnB,IAAIX,IAAI,CAACO,IAAI,CAACW,IAAI,KAAK,CAAC,EAAE;IACxB,IAAIC,GAAG,GAAG,IAAI;IACd;IACAA,GAAG,GAAGA,GAAG,IAAIpB,UAAU,CAACW,KAAK,CAACC,CAAC,GAAG,CAAC,CAAC,EAAEG,SAAS,CAAC;IAChD;IACAK,GAAG,GAAGA,GAAG,IAAIpB,UAAU,CAACW,KAAK,CAACC,CAAC,GAAG,CAAC,CAAC,EAAEI,UAAU,CAAC;IACjD;IACAI,GAAG,GAAGA,GAAG,IAAIb,SAAS,CAACI,KAAK,CAACC,CAAC,GAAG,CAAC,CAAC,EAAEE,QAAQ,CAAC;IAC9C;IACAM,GAAG,GAAGA,GAAG,IAAIb,SAAS,CAACI,KAAK,CAACC,CAAC,GAAG,CAAC,CAAC,EAAEK,SAAS,CAAC;IAC/C,IAAIG,GAAG,EAAE;MACPtB,OAAO,CAACG,IAAI,EAAEmB,GAAG,EAAE,eAAe,CAAC;MACnCrB,OAAO,CAACY,KAAK,EAAEC,CAAC,EAAEC,KAAK,CAAC;MACxBF,KAAK,CAACC,CAAC,CAAC,CAACS,UAAU,GAAG,GAAG;MACzB,OAAO,IAAI;IACb;EACF;EACA,OAAO,IAAI;AACb,CAAC;AACD,eAAeX,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}